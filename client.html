<!doctype html>
<head>
<script src="server.js"></script>
<script src="client.js"></script>
<script>
function wrap(num, max) {
    if (num < 0) return max + num;
    if (num >= max) return num - max;
    return num;
}
var canvas, context, interval;
window.onload = function() {
    canvas = document.getElementById("canvas");
    context = canvas.getContext("2d");
    context.textBaseline = "top";
    
    var server = create_server();
    var client = create_client(server);
    client.load(client);
    
    canvas.onmousedown = function(e) {
        client.mouse_down(e.offsetX, e.offsetY);
    };
    
    interval = window.setInterval(function() { //temporary server loop on client
        server.loop(client);
        client.loop();
    }, 10);
};
</script>
</head>
<body>
<canvas id="canvas" width="640" height="480"></canvas>
</body>
</html>
